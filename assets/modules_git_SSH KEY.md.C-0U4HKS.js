import{_ as s,c as i,o as a,a2 as n}from"./chunks/framework.CbocFKz0.js";const F=JSON.parse('{"title":"SSH KEY","description":"","frontmatter":{},"headers":[],"relativePath":"modules/git/SSH KEY.md","filePath":"modules/git/SSH KEY.md"}'),h={name:"modules/git/SSH KEY.md"},e=n(`<h1 id="ssh-key" tabindex="-1">SSH KEY <a class="header-anchor" href="#ssh-key" aria-label="Permalink to &quot;SSH KEY&quot;">​</a></h1><h2 id="_1-说明" tabindex="-1">1. 说明 <a class="header-anchor" href="#_1-说明" aria-label="Permalink to &quot;1. 说明&quot;">​</a></h2><ul><li><ol><li>一个 SSH 公钥可以用于多个 Git 代码托管平台（github|gitee）</li></ol></li><li><ol start="2"><li>github 不允许多个账户使用同一个 SSH Key</li></ol></li><li><ol start="3"><li>SSH 允许一个操作系统中存在多对密钥</li></ol></li></ul><h2 id="_2-使用多组密钥并指定给不同的平台" tabindex="-1">2. 使用多组密钥并指定给不同的平台 <a class="header-anchor" href="#_2-使用多组密钥并指定给不同的平台" aria-label="Permalink to &quot;2. 使用多组密钥并指定给不同的平台&quot;">​</a></h2><h3 id="使用-ssh-keygen-生成第一组密钥对" tabindex="-1">使用 <code>ssh-keygen</code> 生成第一组密钥对 <a class="header-anchor" href="#使用-ssh-keygen-生成第一组密钥对" aria-label="Permalink to &quot;使用 \`ssh-keygen\` 生成第一组密钥对&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;YourPersonalEmailAdress&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入密钥的名称: id_rsa_github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (/Users/username/.ssh/id_rsa): id_rsa_github</span></span></code></pre></div><h3 id="生成第二组密钥对" tabindex="-1">生成第二组密钥对 <a class="header-anchor" href="#生成第二组密钥对" aria-label="Permalink to &quot;生成第二组密钥对&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;YourCompanyEmailAdress&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入密钥的名称: id_rsa_company</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (/Users/username/.ssh/id_rsa): id_rsa_company</span></span></code></pre></div><h3 id="此时-你的-ssh-目录下会出现四个文件" tabindex="-1">此时，你的 <code>~/.ssh</code> 目录下会出现四个文件 <a class="header-anchor" href="#此时-你的-ssh-目录下会出现四个文件" aria-label="Permalink to &quot;此时，你的 \`~/.ssh\` 目录下会出现四个文件&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id_rsa_github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id_rsa_github.pub</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id_rsa_company</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id_rsa_company.pub</span></span></code></pre></div><h3 id="然后我们要把生成的密钥使用-ssh-add-指令添加到-ssh-agent-的身份验证代理中" tabindex="-1">然后我们要把生成的密钥使用 <code>ssh-add</code> 指令添加到 <code>ssh-agent</code> 的身份验证代理中 <a class="header-anchor" href="#然后我们要把生成的密钥使用-ssh-add-指令添加到-ssh-agent-的身份验证代理中" aria-label="Permalink to &quot;然后我们要把生成的密钥使用 \`ssh-add\` 指令添加到 \`ssh-agent\` 的身份验证代理中&quot;">​</a></h3><ul><li>如果不添加新的密钥到 <code>ssh-agent</code> 中的话，系统会使用默认的 <code>SSH Key</code> <code>id_rsa</code></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id_rsa_github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id_rsa_company</span></span></code></pre></div><h3 id="为远程服务器配置密钥" tabindex="-1">为远程服务器配置密钥 <a class="header-anchor" href="#为远程服务器配置密钥" aria-label="Permalink to &quot;为远程服务器配置密钥&quot;">​</a></h3><ul><li><code>~/.ssh</code> 目录下存在一个 <code>config</code> 文件，如果不存在可以使用 <code>touch config</code> 指令生成文件。</li><li><code>config</code> 文件用于配置 <code>SSH</code> 客户端的信息，例如主机名、端口号、用户名、密钥等。</li><li>用编辑器打开 <code>config</code> 文件</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usename</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferredAuthentications</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publickey</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IdentityFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_github</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> company-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usename</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> company-gitlab.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 22</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferredAuthentications</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publickey</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IdentityFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_company</span></span></code></pre></div><h4 id="config-配置项" tabindex="-1"><code>config</code> 配置项 <a class="header-anchor" href="#config-配置项" aria-label="Permalink to &quot;\`config\` 配置项&quot;">​</a></h4><ul><li>Host：指定连接到的主机名</li><li>User：指定使用的用户名</li><li>Hostname：指定连接到的主机的实际域名或 IP 地址</li><li>Port：SSH 服务的端口号，默认为 22</li><li>PreferredAuthentications：指定优先使用的身份验证方法，指定为 publickey，即使用公钥进行身份认证</li><li>IdentityFile：指定要使用的私钥文件路径</li></ul><h4 id="登录-github-将-id-rsa-github-pub-的公钥内容复制到-ssh-key-管理面板中" tabindex="-1">登录 <code>Github</code> 将 <code>id_rsa_github.pub</code> 的公钥内容复制到 <code>SSH Key</code> 管理面板中 <a class="header-anchor" href="#登录-github-将-id-rsa-github-pub-的公钥内容复制到-ssh-key-管理面板中" aria-label="Permalink to &quot;登录 \`Github\` 将 \`id_rsa_github.pub\` 的公钥内容复制到 \`SSH Key\` 管理面板中&quot;">​</a></h4><h2 id="_3-同时配置多个-github-账号" tabindex="-1">3. 同时配置多个 Github 账号 <a class="header-anchor" href="#_3-同时配置多个-github-账号" aria-label="Permalink to &quot;3. 同时配置多个 Github 账号&quot;">​</a></h2><p>ssh-keygen -t rsa -C &quot;<a href="mailto:W1N9ss@126.com" target="_blank" rel="noreferrer">W1N9ss@126.com</a>&quot; ssh-add ~/.ssh/id_rsa_github_W1N9s</p><h3 id="生成一个新的-ssh-key" tabindex="-1">生成一个新的 SSH Key <a class="header-anchor" href="#生成一个新的-ssh-key" aria-label="Permalink to &quot;生成一个新的 SSH Key&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;YourPersonalEmailAdress&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入密钥的名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (/Users/username/.ssh/id_rsa): id_rsa_github_x</span></span></code></pre></div><h3 id="添加到-ssh-agent" tabindex="-1">添加到 <code>ssh-agent</code> <a class="header-anchor" href="#添加到-ssh-agent" aria-label="Permalink to &quot;添加到 \`ssh-agent\`&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_github_x</span></span></code></pre></div><h3 id="在-ssh-config-文件中追加配置" tabindex="-1">在 SSH config 文件中追加配置 <a class="header-anchor" href="#在-ssh-config-文件中追加配置" aria-label="Permalink to &quot;在 SSH config 文件中追加配置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 主账号配置（可以不配置，使用默认 id_rsa）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Host github.com</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Hostname github.com</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PreferredAuthentications publickey</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># IdentityFile ~/.ssh/id_rsa</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 子账号配置，Host 区分主账号，否则被覆盖</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># clone 项目的时候，手动修改地址：git@github.com:username/test.git ==》git@github_x:username/test.git，对应 Host</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github_x</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PreferredAuthentications</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publickey</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IdentityFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_github_W1N9s</span></span></code></pre></div><h3 id="测试连接" tabindex="-1">测试连接 <a class="header-anchor" href="#测试连接" aria-label="Permalink to &quot;测试连接&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 主账号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 子账号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github_x</span></span></code></pre></div>`,29),t=[e];function l(p,k,d,r,o,c){return a(),i("div",null,t)}const u=s(h,[["render",l]]);export{F as __pageData,u as default};
